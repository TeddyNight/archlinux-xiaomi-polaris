From 7b440e8601c9ba4a7d20779e1631527ddd0e0ad9 Mon Sep 17 00:00:00 2001
From: teddynight <tanyuliang2@gmail.com>
Date: Fri, 17 Feb 2023 10:48:07 -0500
Subject: [PATCH] readd tas2559 in dts

---
 .../boot/dts/qcom/sdm845-xiaomi-polaris.dts    | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

diff --git a/arch/arm64/boot/dts/qcom/sdm845-xiaomi-polaris.dts b/arch/arm64/boot/dts/qcom/sdm845-xiaomi-polaris.dts
index dba7c2693..6b5e62e97 100644
--- a/arch/arm64/boot/dts/qcom/sdm845-xiaomi-polaris.dts
+++ b/arch/arm64/boot/dts/qcom/sdm845-xiaomi-polaris.dts
@@ -454,6 +454,24 @@
 	status = "okay";
 };
 
+&i2c5 {
+	clock-frequency = <400000>;
+	dmas = <&gpi_dma0 0 5 QCOM_GPI_I2C>,
+		   <&gpi_dma0 1 5 QCOM_GPI_I2C>;
+	dma-names = "tx", "rx";
+	status = "okay";
+
+	tas2559_codec: codec@4c{
+		#sound-dai-cells = <1>;
+		compatible = "ti,tas2559";
+		reg = <0x4c>;
+		ti,tas2559-reset-gpio = <&tlmm 14 0>;
+		ti,tas2560-reset-gpio = <&tlmm 25 0>;
+		ti,tas2559-addr = <0x4c>;
+		ti,tas2560-addr = <0x4d>;
+	};
+};
+
 &i2c14 {
 	clock-frequency = <400000>;
 	dmas = <&gpi_dma1 0 6 QCOM_GPI_I2C>,
-- 
2.20.1

